!function(t,e){for(var n in e)t[n]=e[n]}(exports,function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var r=n(2).subClass({imageMagick:!0}),i=function(t,e){return new Promise(function(n,i){var o=r(t,e.image_type);o.compress(e.compression_type).toBuffer(e.image_type,function(t,e){t&&i(t),n(e)})})},o=function(t,e,n){return new Promise(function(i,o){var s=r(t,e.image_type),u=e.width?""+e.width:null,a=e.height?""+e.height:null;s.resize(u,a,n).toBuffer(e.image_type,function(t,n){r(n,e.image_type).size(function(t,e){t&&o(t),i({buffer:n,size:e})})})})},s=function(t,e){return new Promise(function(n,i){var o=r(t,e.image_type);o.crop(e.width,e.height,e.x,e.y).toBuffer(e.image_type,function(t,e){t&&i(t),n(e)})})},u=function(t,e){return new Promise(function(n,i){var o=r(t,e.image_type);o.size(function(t,e){t&&i(t),n(e)})})};t.exports={compress:i,resize:o,crop:s,getSize:u}},function(t,e,n){"use strict";function r(t,e,n){var s;if(!(this instanceof r))return new r(t,e,n);if(o.call(this),this._options={},this.options(this.__proto__._options),this.data={},this._in=[],this._out=[],this._outputFormat=null,this._subCommand="convert",t instanceof i?(this.sourceStream=t,t=e||"unknown.jpg"):Buffer.isBuffer(t)?(this.sourceBuffer=t,t=e||"unknown.jpg"):e&&(s=t,t="",this.in("-size",s+"x"+e),n&&this.in("xc:"+n)),"string"==typeof t){var u=t.match(/(\[.+\])$/);u&&(this.sourceFrames=t.substr(u.index,u[0].length),t=t.substr(0,u.index))}this.source=t,this.addSrcFormatter(function(t){var e=this.sourceStream||this.sourceBuffer,n=e?"-":this.source;n&&this.sourceFrames&&(n+=this.sourceFrames),t.length=0,t[0]=n})}var i=n(3).Stream,o=n(4).EventEmitter,s=n(5);s.inherits(r,o);var u=r;r.subClass=function(t){function e(t,n,r){return this instanceof u?void u.call(this,t,n,r):new e(t,n,r)}return e.prototype.__proto__=u.prototype,e.prototype._options={},e.prototype.options(t),e},n(6)(r.prototype),n(7)(r),n(8)(r.prototype),n(10)(r.prototype),n(11)(r.prototype),n(18)(r.prototype),n(42)(r.prototype),n(43)(r.prototype),n(44)(r.prototype),t.exports=e=r,t.exports.utils=n(9),t.exports.compare=n(42)(),t.exports.version=n(45).version},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("events")},function(t,e){t.exports=require("util")},function(t,e){"use strict";t.exports=e=function(t){t._options={},t.options=function(t){for(var e,n=Object.keys(t),r=n.length;r--;)e=n[r],this._options[e]=t[e];return this}}},function(t,e){"use strict";t.exports=function(t){function e(t,e){var n=this;n.bufferStream=!!t.bufferStream;var i=r(n,t);return n._exec(i,function(t,r,i,o){return t?e.call(n,t,void 0,r,i,o):void e.call(n,t,(r||"").trim())}),n}function n(t,e){var n=(t||"").trim().replace(/\r\n|\r/g,"\n").split("\n");n.shift();try{for(var r,i,o,s=n.length,u=/^( *)(.+?): (.*)$/,a=/^( *)(.+?):$/,f={indent:{}},h=null,l=0;l<s;++l)if(i=u.exec(n[l])||a.exec(n[l])){var p=i[1].length,d=i[2]?i[2].trim():"";if("Image"!=d&&"Warning"!=d){var m=i[3]?i[3].trim():null;if(null===h)h=p,o=f.root=f.indent[h]=e.data;else if(p<h){if(!(p in f.indent))continue;o=f.indent[p]}else p>h&&(f.indent[h]=o,o=o[r]={});if(h=p,m){if(o.hasOwnProperty(d)){if(!Array.isArray(o[d])){var g=o[d];o[d]=[g]}o[d].push(m)}else o[d]=m;d in c&&c[d](o,m)}r=d}}}catch(e){return e.message=e.message+"\n\n  Identify stdout:\n  "+t,e}}function r(t,e){var n=["identify","-ping"];return e.format&&n.push("-format",e.format),e.verbose&&n.push("-verbose"),n=n.concat(t.src())}var i=t.prototype,o=1,s=2,u={format:{key:"format",format:"%m ",helper:"Format"},depth:{key:"depth",format:"%q"},filesize:{key:"Filesize",format:"%b"},size:{key:"size",format:"%wx%h ",helper:"Geometry"},color:{key:"color",format:"%k",helper:"Colors"},orientation:{key:"Orientation",format:"%[EXIF:Orientation]",helper:"Orientation"},res:{key:"Resolution",verbose:!0}};Object.keys(u).forEach(function(t){i[t]=function(e,n){if(n||(n=e,e={}),!n)return this;var i=u[t],o=i.key,s=this;if(s.data[o])return n.call(s,null,s.data[o]),s;if(s.on(t,n),s.bufferStream=!!e.bufferStream,i.verbose)return s.identify(e,function(e,n,r,i){e?s.emit(t,e,s.data[o],n,r,i):s.emit(t,e,s.data[o])}),s;var a=r(s,i);return s._exec(a,function(e,n,r,u){if(e)return void s.emit(t,e,s.data[o],n,r,u);var a=(n||"").trim();i.helper in c?c[i.helper](s.data,a):s.data[o]=a,s.emit(t,e,s.data[o])}),s}}),i.identify=function(t,i){if("string"==typeof t&&(t={format:t}),i||(i=t,t={}),!i)return this;if(t&&t.format)return e.call(this,t,i);var u=this;if(s===u._identifyState)return i.call(u,null,u.data),u;if(u.on("identify",i),o===u._identifyState)return u;u._identifyState=o,u.bufferStream=!!t.bufferStream;var a=r(u,{verbose:!0});return u._exec(a,function(t,e,r,i){return t?void u.emit("identify",t,u.data,e,r,i):(t=n(e,u))?void u.emit("identify",t,u.data,e,r,i):(u.data.path=u.source,u.emit("identify",null,u.data),void(u._identifyState=s))}),u};var a={1:"TopLeft",2:"TopRight",3:"BottomRight",4:"BottomLeft",5:"LeftTop",6:"RightTop",7:"RightBottom",8:"LeftBottom"},c=t.identifyHelpers={};c.Geometry=function(t,e){var n=e.split(" ").shift().split("x"),r=parseInt(n[0],10),i=parseInt(n[1],10);t.size&&t.size.width&&t.size.height?(r>t.size.width&&(t.size.width=r),i>t.size.height&&(t.size.height=i)):t.size={width:r,height:i}},c.Format=function(t,e){t.format=e.split(" ")[0]},c.Depth=function(t,e){t.depth=parseInt(e,10)},c.Colors=function(t,e){t.color=parseInt(e,10)},c.Orientation=function(t,e){e in a?(t["Profile-EXIF"]||(t["Profile-EXIF"]={}),t["Profile-EXIF"].Orientation=e,t.Orientation=a[e]):t.Orientation=e||"Unknown"}}},function(t,e,n){"use strict";function r(t){return function(e){return e=String(e),e="@"==e.charAt(0)?e.substring(1):e,this.out(t,'"'+e+'"')}}var i=n(9).argsToArray,o=n(9).isUtil;t.exports=function(t){t.selectFrame=function(t){return"number"==typeof t&&(this.sourceFrames="["+t+"]"),this},t.command=t.subCommand=function(t){return this._subCommand=t,this},t.adjoin=function(){return this.out("-adjoin")},t.affine=function(t){return this.out("-affine",t)},t.alpha=function(t){return this._options.imageMagick?this.out("-alpha",t):new Error("Method -alpha is not supported by GraphicsMagick")},t.append=function(t,e){if(this._append||(this._append=[],this.addSrcFormatter(function(t){this.out(this._append.ltr?"+append":"-append"),t.push.apply(t,this._append)})),0===arguments.length)return this._append.ltr=!1,this;for(var n=0;n<arguments.length;++n){var r=arguments[n];switch(o(r)){case"Boolean":this._append.ltr=r;break;case"String":this._append.push(r);break;case"Array":for(var i=0,s=r.length;i<s;i++)"String"==o(r[i])&&this._append.push(r[i])}}return this},t.authenticate=function(t){return this.out("-authenticate",t)},t.average=function(){return this.out("-average")},t.backdrop=function(){return this.out("-backdrop")},t.blackThreshold=function(t,e,n,r){return this.out("-black-threshold",i(t,e,n,r).join(","))},t.bluePrimary=function(t,e){return this.out("-blue-primary",i(t,e).join(","))},t.border=function(t,e){return this.out("-border",t+"x"+e)},t.borderColor=function(t){return this.out("-bordercolor",t)},t.box=function(t){return this.out("-box",t)},t.channel=function(t){return this.out("-channel",t)},t.chop=function(t,e,n,r){return this.in("-chop",t+"x"+e+"+"+(n||0)+"+"+(r||0))},t.clip=function(){return this.out("-clip")},t.coalesce=function(){return this.out("-coalesce")},t.colorize=function(t,e,n){return this.out("-colorize",[t,e,n].join(","))},t.colorMap=function(t){return this.out("-colormap",t)},t.compose=function(t){return this.out("-compose",t)},t.compress=function(t){return this.out("-compress",t)},t.convolve=function(t){return this.out("-convolve",t)},t.createDirectories=function(){return this.out("-create-directories")},t.deconstruct=function(){return this.out("-deconstruct")},t.define=function(t){return this.out("-define",t)},t.delay=function(t){return this.out("-delay",t)},t.displace=function(t,e){return this.out("-displace",t+"x"+e)},t.display=function(t){return this.out("-display",t)},t.dispose=function(t){return this.out("-dispose",t)},t.dissolve=function(t){return this.out("-dissolve",t+"%")},t.encoding=function(t){return this.out("-encoding",t)},t.endian=function(t){return this.out("-endian",t)},t.file=function(t){return this.out("-file",t)},t.flatten=function(){return this.out("-flatten")},t.foreground=function(t){return this.out("-foreground",t)},t.frame=function(t,e,n,r){return 0==arguments.length?this.out("-frame"):this.out("-frame",t+"x"+e+"+"+n+"+"+r)},t.fuzz=function(t,e){return this.out("-fuzz",t+(e?"%":""))},t.gaussian=function(t,e){return this.out("-gaussian",i(t,e).join("x"))},t.geometry=function(t,e,n){return 1==arguments.length&&"string"==typeof arguments[0]?this.out("-geometry",arguments[0]):this.out("-geometry",t+"x"+e+(n||""))},t.greenPrimary=function(t,e){return this.out("-green-primary",t+","+e)},t.highlightColor=function(t){return this.out("-highlight-color",t)},t.highlightStyle=function(t){return this.out("-highlight-style",t)},t.iconGeometry=function(t){return this.out("-iconGeometry",t)},t.intent=function(t){return this.out("-intent",t)},t.lat=function(t,e,n,r){return this.out("-lat",t+"x"+e+n+(r?"%":""))},t.level=function(t,e,n,r){return this.out("-level",i(t,e,n).join(",")+(r?"%":""))},t.list=function(t){return this.out("-list",t)},t.log=function(t){return this.out("-log",t)},t.loop=function(t){return this.out("-loop",t)},t.map=function(t){return this.out("-map",t)},t.mask=function(t){return this.out("-mask",t)},t.matte=function(){return this.out("-matte")},t.matteColor=function(t){return this.out("-mattecolor",t)},t.maximumError=function(t){return this.out("-maximum-error",t)},t.mode=function(t){return this.out("-mode",t)},t.monitor=function(){return this.out("-monitor")},t.mosaic=function(){return this.out("-mosaic")},t.motionBlur=function(t,e,n){var r=t;return"undefined"!=typeof e&&(r+="x"+e),"undefined"!=typeof n&&(r+="+"+n),this.out("-motion-blur",r)},t.name=function(){return this.out("-name")},t.noop=function(){return this.out("-noop")},t.normalize=function(){return this.out("-normalize")},t.opaque=function(t){return this.out("-opaque",t)},t.operator=function t(e,t,n,r){return this.out("-operator",e,t,n+(r?"%":""))},t.orderedDither=function(t,e){return this.out("-ordered-dither",t,e)},t.outputDirectory=function(t){return this.out("-output-directory",t)},t.page=function(t,e,n){return this.out("-page",t+"x"+e+(n||""))},t.pause=function(t){return this.out("-pause",t)},t.pen=function(t){return this.out("-pen",t)},t.ping=function(){return this.out("-ping")},t.pointSize=function(t){return this.out("-pointsize",t)},t.preview=function(t){return this.out("-preview",t)},t.process=function(t){return this.out("-process",t)},t.profile=function(t){return this.out("-profile",t)},t.progress=function(){return this.out("+progress")},t.randomThreshold=function(t,e){return this.out("-random-threshold",t,e)},t.recolor=function(t){return this.out("-recolor",t)},t.redPrimary=function(t,e){return this.out("-red-primary",t,e)},t.remote=function(){return this.out("-remote")},t.render=function(){return this.out("-render")},t.repage=function(t,e,n,r,i){return"+"===arguments[0]?this.out("+repage"):this.out("-repage",t+"x"+e+"+"+n+"+"+r+(i||""))},t.sample=function(t){return this.out("-sample",t)},t.samplingFactor=function(t,e){return this.out("-sampling-factor",t+"x"+e)},t.scene=function(t){return this.out("-scene",t)},t.scenes=function(t,e){return this.out("-scenes",t+"-"+e)},t.screen=function(){return this.out("-screen")},t.set=function(t,e){return this.out("-set",t,e)},t.segment=function(t,e){return this.out("-segment",t+"x"+e)},t.shade=function(t,e){return this.out("-shade",t+"x"+e)},t.shadow=function(t,e){return this.out("-shadow",i(t,e).join("x"))},t.sharedMemory=function(){return this.out("-shared-memory")},t.shave=function(t,e,n){return this.out("-shave",t+"x"+e+(n?"%":""))},t.shear=function(t,e){return this.out("-shear",t+"x"+e)},t.silent=function(t){return this.out("-silent")},t.rawSize=function(t,e,n){var r="undefined"!=typeof n?"+"+n:"";return this.out("-size",t+"x"+e+r)},t.snaps=function(t){return this.out("-snaps",t)},t.stegano=function(t){return this.out("-stegano",t)},t.stereo=function(){return this.out("-stereo")},t.textFont=function(t){return this.out("-text-font",t)},t.texture=function(t){return this.out("-texture",t)},t.threshold=function(t,e){return this.out("-threshold",t+(e?"%":""))},t.thumbnail=function(t,e,n){n=n||"";var r,i=Boolean(t||0===t),o=Boolean(e||0===e);if(i&&o)r=t+"x"+e+n;else if(i)r=this._options.imageMagick?t+n:t+"x"+n;else{if(!o)return this;r="x"+e+n}return this.out("-thumbnail",r)},t.tile=function(t){return this.out("-tile",t)},t.title=function(t){return this.out("-title",t)},t.transform=function(t){return this.out("-transform",t)},t.transparent=function(t){return this.out("-transparent",t)},t.treeDepth=function(t){return this.out("-treedepth",t)},t.update=function(t){return this.out("-update",t)},t.units=function(t){return this.out("-units",t)},t.unsharp=function(t,e,n,r){var i=t;return"undefined"!=typeof e&&(i+="x"+e),"undefined"!=typeof n&&(i+="+"+n),"undefined"!=typeof r&&(i+="+"+r),this.out("-unsharp",i)},t.usePixmap=function(){return this.out("-use-pixmap")},t.view=function(t){return this.out("-view",t)},t.virtualPixel=function(t){return this.out("-virtual-pixel",t)},t.visual=function(t){return this.out("-visual",t)},t.watermark=function(t,e){return this.out("-watermark",t+"x"+e)},t.wave=function(t,e){return this.out("-wave",t+"x"+e)},t.whitePoint=function(t,e){return this.out("-white-point",t+"x"+e)},t.whiteThreshold=function(t,e,n,r){return this.out("-white-threshold",i(t,e,n,r).join(","))},t.window=function(t){return this.out("-window",t)},t.windowGroup=function(){return this.out("-window-group")},t.strip=function(){return this._options.imageMagick?this.out("-strip"):this.noProfile().out("+comment")},t.interlace=function(t){return this.out("-interlace",t||"None")},t.setFormat=function(t){return t&&(this._outputFormat=t),this},t.resize=function(t,e,n){n=n||"";var r,i=Boolean(t||0===t),o=Boolean(e||0===e);if(i&&o)r=t+"x"+e+n;else if(i)r=this._options.imageMagick?t+n:t+"x"+n;else{if(!o)return this;r="x"+e+n}return this.out("-resize",r)},t.resizeExact=function(e,n){var r="!";return t.resize.apply(this,[e,n,r])},t.scale=function(t,e,n){n=n||"";var r;return t&&e?r=t+"x"+e+n:t&&!e?r=this._options.imageMagick?t+n:t+"x"+n:!t&&e&&(r="x"+e+n),this.out("-scale",r)},t.filter=function(t){return this.out("-filter",t)},t.density=function(t,e){return t&&!e&&this._options.imageMagick?this.in("-density",t):this.in("-density",t+"x"+e)},t.noProfile=function(){return this.out("+profile",'"*"'),this},t.resample=function(t,e){return this.out("-resample",t+"x"+e)},t.rotate=function(t,e){return this.out("-background",t,"-rotate",String(e||0))},t.flip=function(){return this.out("-flip")},t.flop=function(){return this.out("-flop")},t.crop=function(t,e,n,r,i){if(this.inputIs("jpg")){var o=this._in.indexOf("-size");~o&&this._in.splice(o,2)}return this.out("-crop",t+"x"+e+"+"+(n||0)+"+"+(r||0)+(i?"%":""))},t.magnify=function(t){return this.in("-magnify")},t.minify=function(){return this.in("-minify")},t.quality=function(t){return this.in("-quality",t||75)},t.blur=function(t,e){return this.out("-blur",t+(e?"x"+e:""))},t.charcoal=function(t){return this.out("-charcoal",t||2)},t.modulate=function(t,e,n){return this.out("-modulate",[t,e,n].join(","))},t.antialias=function(t){return!1===t?this.out("+antialias"):this},t.bitdepth=function(t){return this.out("-depth",t)},t.colors=function(t){return this.out("-colors",t||128)},t.colorspace=function(t){return this.out("-colorspace",t)},t.comment=r("-comment"),t.contrast=function(t){var e=(parseInt(t,10)||0)>0?"+contrast":"-contrast";for(t=Math.abs(t)||1;t--;)this.out(e);return this},t.cycle=function(t){return this.out("-cycle",t||2)},t.despeckle=function(){return this.out("-despeckle")},t.dither=function(t){var e=!1===t?"+":"-";return this.out(e+"dither")},t.monochrome=function(){return this.out("-monochrome")},t.edge=function(t){return this.out("-edge",t||1)},t.emboss=function(t){return this.out("-emboss",t||1)},t.enhance=function(){return this.out("-enhance")},t.equalize=function(){return this.out("-equalize")},t.gamma=function(t,e,n){return this.out("-gamma",[t,e,n].join())},t.implode=function(t){return this.out("-implode",t||1)},t.label=r("-label");var e=["disk","file","map","memory","pixels","threads"];t.limit=function(t,n){return t=t.toLowerCase(),~e.indexOf(t)?this.out("-limit",t,n):this},t.median=function(t){return this.out("-median",t||1)},t.negative=function(t){var e=t?"+":"-";return this.out(e+"negate")};var n=["uniform","gaussian","multiplicative","impulse","laplacian","poisson"];t.noise=function(t){t=String(t).toLowerCase();var e=~n.indexOf(t)?"+":"-";return this.out(e+"noise",t)},t.paint=function(t){return this.out("-paint",t)},t.raise=function(t,e){return this.out("-raise",(t||0)+"x"+(e||0))},t.lower=function(t,e){return this.out("+raise",(t||0)+"x"+(e||0))},t.region=function(t,e,n,r){return t=t||0,e=e||0,n=n||0,r=r||0,this.out("-region",t+"x"+e+"+"+n+"+"+r)},t.roll=function(t,e){return t=((t=parseInt(t,10)||0)>=0?"+":"")+t,e=((e=parseInt(e,10)||0)>=0?"+":"")+e,this.out("-roll",t+e)},t.sharpen=function(t,e){return e=e?"x"+e:"",this.out("-sharpen",t+e)},t.solarize=function(t){return this.out("-solarize",(t||1)+"%")},t.spread=function(t){return this.out("-spread",t||5)},t.swirl=function(t){return this.out("-swirl",t||180)},t.type=function t(t){return this.in("-type",t)},t.trim=function(){return this.out("-trim")},t.extent=function(t,e,n){n=n||"";var r;return t&&e?r=t+"x"+e+n:t&&!e?r=this._options.imageMagick?t+n:t+"x"+n:!t&&e&&(r="x"+e+n),this.out("-extent",r)},t.gravity=function t(e){return e&&~t.types.indexOf(e)||(e="NorthWest"),this.out("-gravity",e)},t.gravity.types=["NorthWest","North","NorthEast","West","Center","East","SouthWest","South","SouthEast"],t.flatten=function(){return this.out("-flatten")},t.background=function(t){return this.in("-background",t)}}},function(t,e){"use strict";e.escape=function(t){return'"'+String(t).trim().replace(/"/g,'\\"')+'"'},e.unescape=function(t){return String(t).trim().replace(/"/g,"")},e.argsToArray=function(t){for(var e=[],n=0;n<=arguments.length;n++)"undefined"!=typeof arguments[n]&&e.push(arguments[n]);return e},e.isUtil=function(t){var e="object";switch(Object.prototype.toString.call(t)){case"[object String]":e="String";break;case"[object Array]":e="Array";break;case"[object Boolean]":e="Boolean"}return e}},function(t,e,n){"use strict";function r(t){for(var e=t.length,n=[],r=0;r<e;++r)n.push(t[r].join(","));return n}var i=n(9).escape;t.exports=function(t){t.fill=function(t){return this.out("-fill",t||"none")},t.stroke=function(t,e){return e&&this.strokeWidth(e),this.out("-stroke",t||"none")},t.strokeWidth=function(t){return this.out("-strokewidth",t)},t.font=function t(t,e){return e&&this.fontSize(e),this.out("-font",t)},t.fontSize=function(t){return this.out("-pointsize",t)},t.draw=function(t){return this.out("-draw",[].slice.call(arguments).join(" "))},t.drawPoint=function(t,e){return this.draw("point",t+","+e)},t.drawLine=function(t,e,n,r){return this.draw("line",t+","+e,n+","+r)},t.drawRectangle=function(t,e,n,r,i,o){var s,u="rectangle";return"undefined"!=typeof i&&(u="roundRectangle","undefined"==typeof o&&(o=i),s=i+","+o),this.draw(u,t+","+e,n+","+r,s)},t.drawArc=function(t,e,n,r,i,o){return this.draw("arc",t+","+e,n+","+r,i+","+o)},t.drawEllipse=function(t,e,n,r,i,o){return void 0==i&&(i=0),void 0==o&&(o=360),this.draw("ellipse",t+","+e,n+","+r,i+","+o)},t.drawCircle=function(t,e,n,r){return this.draw("circle",t+","+e,n+","+r)},t.drawPolyline=function(){return this.draw("polyline",r(arguments))},t.drawPolygon=function(){return this.draw("polygon",r(arguments))},t.drawBezier=function(){return this.draw("bezier",r(arguments))},t._gravities=["northwest","north","northeast","west","center","east","southwest","south","southeast"],t.drawText=function(t,e,n,r){var r=String(r||"").toLowerCase(),o=["text "+t+","+e+" "+i(n)];return~this._gravities.indexOf(r)&&o.unshift("gravity",r),this.draw.apply(this,o)},t._drawProps=["color","matte"],t.setDraw=function(t,e,n,r){return t=String(t||"").toLowerCase(),~this._drawProps.indexOf(t)?this.draw(t,e+","+n,r):this}}},function(t,e,n){"use strict";t.exports=function(t){n(12)(t),n(13)(t),n(16)(t),n(17)(t)}},function(t,e){"use strict";t.exports=function(t){t.thumb=function(t,e,n,r,i,o,s,u){var a=this,c=Array.prototype.slice.call(arguments);u=c.pop(),"function"==typeof u?(s=u,u=""):s=c.pop(),t=c.shift(),e=c.shift(),n=c.shift(),r=c.shift()||63,i=c.shift()||"topleft";var f=c.shift()?"Line":"None";return a.size(function(o,c){if(o)return s.apply(a,arguments);t=parseInt(t,10),e=parseInt(e,10);var h,l,p=0,d=0;if(c.width<c.height)h=t,l=Math.floor(c.height*(t/c.width)),l<e&&(h=Math.floor(h*((e-l)/e+1)),l=e);else if(c.width>c.height)l=e,h=Math.floor(c.width*(e/c.height)),h<t&&(l=Math.floor(l*((t-h)/t+1)),h=t);else if(c.width==c.height){var m=t>e?t:e;h=m,l=m}"center"==i&&(t<h&&(p=(h-t)/2),e<l&&(d=(l-e)/2)),a.quality(r).in("-size",h+"x"+l).scale(h,l,u).crop(t,e,p,d).interlace(f).noProfile().write(n,function(){s.apply(a,arguments)})}),a},t.thumbExact=function(){var t=this,e=Array.prototype.slice.call(arguments);e.push("!"),t.thumb.apply(t,e)}}},function(t,e,n){"use strict";var r=n(14),i=n(15);t.exports=function(t){function e(){}t.morph=function(t,n,o){if(!n)throw new Error("an output filename is required");o=(o||e).bind(this);var s=this;return Array.isArray(t)?(t.forEach(function(t){s.out(t)}),s.out("-morph",t.length)):s.out(t,"-morph",1),s.write(n,function(t,e,s,u){return t?o(t,e,s,u):void r.exists(n,function(t){return t?o(null,e,s,u):void i([r.unlink.bind(r,n+".0"),r.unlink.bind(r,n+".2"),r.rename.bind(r,n+".1",n)],function(t){o(t,e,s,u)})})}),s}}},function(t,e){t.exports=require("fs")},function(t,e){"use strict";function n(){}t.exports=function(t,e,r){function i(t){return function(e,n){if(!s){if(e)return r(e,u),void(s=!0);u[t]=n,--o||r(null,u)}}}r||("function"==typeof e?(r=e,e=null):r=n);var o=t&&t.length;if(!o)return r(null,[]);var s=!1,u=new Array(o);t.forEach(e?function(t,n){t.call(e,i(n))}:function(t,e){t(i(e))})}},function(t,e){"use strict";t.exports=function(t){t.sepia=function(){return this.modulate(115,0,100).colorize(7,21,50)}}},function(t,e){"use strict";t.exports=function(t){var e={topleft:"",topright:["-flop"],bottomright:["-rotate",180],bottomleft:["-flip"],lefttop:["-flip","-rotate",90],righttop:["-rotate",90],rightbottom:["-flop","-rotate",90],leftbottom:["-rotate",270]};t.autoOrient=function(){return this._options.nativeAutoOrient||this._options.imageMagick?(this.out("-auto-orient"),this.strip(),this):(this.preprocessor(function(t){this.orientation({bufferStream:!0},function(n,r){if(n)return t(n);var i=e[r.toLowerCase()];if(i){var o=this._out.indexOf(i[0]);~o&&this._out.splice(o,i.length),this._out.unshift.apply(this._out,i.concat("-page","+0+0"))}this.strip(),t()})}),this)}}},function(t,e,n){"use strict";var r=n(19),i=n(9),o=n(34)("gm"),s=n(41),u=n(3).PassThrough,a="gm v1.9.0+ required node v0.8+. Please update your version of node, downgrade gm < 1.9, or do not use `bufferStream`.";t.exports=function(t){function e(t){return function(){for(var e=arguments.length,n=[],r=0;r<e;++r)n.push(arguments[r]);return this[t]=this[t].concat(n),this}}function n(t,e){var n=!1,r=[];t.on("data",function(t){r.push(t)}),t.on("end",function(){var t,i;n||(n=!0,t=Buffer.concat(r),r=null,0==t.length?(i=new Error("Stream yields empty buffer"),e(i,null)):e(null,t))}),t.on("error",function(t){n=!0,r=null,e(t)})}t.in=e("_in"),t.out=e("_out"),t._preprocessor=[],t.preprocessor=e("_preprocessor"),t.write=function(t,e){if(e||(e=t,t=null),"function"!=typeof e)throw new TypeError("gm().write() expects a callback function");if(!t)return e(TypeError("gm().write() expects a filename when writing new files"));this.outname=t;var n=this;this._preprocess(function(t){return t?e(t):void n._spawn(n.args(),!0,e)})},t.stream=function(t,e){e||"function"!=typeof t||(e=t,t=null);var n;"function"!=typeof e&&(n=new u,e=function(t,e,r){t?n.emit("error",t):e.pipe(n)}),t&&(t=t.split(".").pop(),this.outname=t+":-");var r=this;return this._preprocess(function(t){return t?e(t):r._spawn(r.args(),!1,e)}),n||this},t.toBuffer=function(t,e){if(e||(e=t,t=null),"function"!=typeof e)throw new Error("gm().toBuffer() expects a callback.");return this.stream(t,function(t,r){return t?e(t):void n(r,e)})},t._preprocess=function(t){s(this._preprocessor,this,t)},t._exec=function(t,e){return this._spawn(t,!0,e)},t._spawn=function(t,e,s){function u(e,n,r,i){u.called||(l&&clearTimeout(l),u.called=1,"identify"!==t[0]&&"identify"!==d&&(g._in=[],g._out=[]),s.call(g,e,n,r,i))}function c(t){var e=t?t:"gm() was disposed";h=new Error(e),u(h),null===f.exitCode&&(f.stdin.pause(),f.kill())}var f,h,l,p=this._options.appPath||"",d=this._options.imageMagick?p+t.shift():p+"gm",m=d+" "+t.map(i.escape).join(" "),g=this,y=parseInt(this._options.timeout),v=this._options.disposers;if(o(m),t.indexOf("-minify")>-1&&this._options.imageMagick)return h=new Error("imageMagick does not support minify, use -scale or -sample. Alternatively, use graphicsMagick"),u(h);try{f=r(d,t)}catch(t){return u(t)}if(f.stdin.once("error",u),f.on("error",function(t){u("ENOENT"===t.code?new Error("Could not execute GraphicsMagick/ImageMagick: "+m+" this most likely means the gm/convert binaries can't be found"):t)}),y&&(l=setTimeout(function(){c("gm() resulted in a timeout.")},y)),v&&v.forEach(function(t){t.events.forEach(function(e){t.emitter.on(e,c)})}),g.sourceBuffer)f.stdin.write(this.sourceBuffer),f.stdin.end();else if(g.sourceStream){if(!g.sourceStream.readable)return h=new Error("gm().stream() or gm().write() with a non-readable stream."),u(h);if(g.sourceStream.pipe(f.stdin),g.bufferStream&&!this._buffering){if(!Buffer.concat)throw new Error(a);g._buffering=!0,n(g.sourceStream,function(t,e){g.sourceBuffer=e,g.sourceStream=null})}}if(e){var w,x,b,C="",_="";f.stdout.on("data",w=function(t){C+=t}),f.stderr.on("data",x=function(t){_+=t}),f.on("close",b=function(t,e){0===t&&null===e||(h=new Error("Command failed: "+_),h.code=t,h.signal=e),u(h,C,_,m),C=_=w=x=b=null})}else u(null,f.stdout,f.stderr,m);return g},t.args=function(){var t=this.outname||"-";return this._outputFormat&&(t=this._outputFormat+":"+t),[].concat(this._subCommand,this._in,this.src(),this._out,t).filter(Boolean)},t.addSrcFormatter=function(t){if("function"!=typeof t)throw new TypeError("sourceFormatter must be a function");return this._sourceFormatters||(this._sourceFormatters=[]),this._sourceFormatters.push(t),this},t.src=function(){for(var t=[],e=0;e<this._sourceFormatters.length;++e)this._sourceFormatters[e].call(this,t);return t};var c={jpg:/\.jpe?g$/i,png:/\.png$/i,gif:/\.gif$/i,tiff:/\.tif?f$/i,bmp:/(?:\.bmp|\.dib)$/i,webp:/\.webp$/i};c.jpeg=c.jpg,c.tif=c.tiff,c.dib=c.bmp,t.inputIs=function(t){if(!t)return!1;var e=c[t];return e||("."!==t[0]&&(t="."+t),e=new RegExp("\\"+t+"$","i")),e.test(this.source)},t.addDisposer=function(t,e){return this._options.disposers||(this._options.disposers=[]),this._options.disposers.push({emitter:t,events:e}),this}}},function(t,e,n){"use strict";function r(t,e,n){var r,i;return r=s(t,e,n),i=o.spawn(r.command,r.args,r.options),u.hookChildProcess(i,r),i}function i(t,e,r){var i,o;if(!a)try{a=n(!function(){var t=new Error('Cannot find module "spawn-sync"');throw t.code="MODULE_NOT_FOUND",t}())}catch(t){throw new Error("In order to use spawnSync on node 0.10 or older, you must install spawn-sync:\n\n  npm install spawn-sync --save")}return i=s(t,e,r),o=a(i.command,i.args,i.options),o.error=o.error||u.verifyENOENTSync(o.status,i),o}var o=n(20),s=n(21),u=n(33),a=o.spawnSync;t.exports=r,t.exports.spawn=r,t.exports.sync=i,t.exports._parse=s,t.exports._enoent=u},function(t,e){t.exports=require("child_process")},function(t,e,n){"use strict";function r(t){var e,n,r,i;if(p.has(t))return p.get(t);e=new Buffer(150);try{n=a.openSync(t,"r"),a.readSync(n,e,0,150,0),a.closeSync(n)}catch(t){}return r=e.toString().trim().match(/#!(.+)/i),r&&(i=r[1].replace(/\/usr\/bin\/env\s+/i,"")),p.set(t,i),i}function i(t,e){return t=""+t,e?(t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t='"'+t+'"'):t=t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),t}function o(t){return/^[a-z0-9_-]+$/i.test(t)?t:i(t,!0)}function s(t){return!/\.(?:com|exe)$/i.test(t)}function u(t,e,n){var u,a,c,p,d;return e&&!Array.isArray(e)&&(n=e,e=null),e=e?e.slice(0):[],n=n||{},p=t,l&&(c=f(t),c=c||f(t,!0),u=c&&r(c),d=n.shell||h,u?(e.unshift(c),t=u,d=d||s(f(u)||f(u,!0))):d=d||s(c),d&&(a="echo"!==t,t=o(t),e=e.map(function(t){return i(t,a)}),e=["/s","/c",'"'+t+(e.length?" "+e.join(" "):"")+'"'],t={NODE_ENV:"production"}.comspec||"cmd.exe",n.windowsVerbatimArguments=!0)),{command:t,args:e,options:n,file:c,original:p}}var a=n(14),c=n(22),f=n(26),h=n(32),l="win32"===process.platform,p=new c({max:50,maxAge:3e4});t.exports=u},function(t,e,n){"use strict";function r(){return 1}function i(t){if(!(this instanceof i))return new i(t);"number"==typeof t&&(t={max:t}),t||(t={});var e=this[g]=t.max;(!e||"number"!=typeof e||e<=0)&&(this[g]=1/0);var n=t.length||r;"function"!=typeof n&&(n=r),this[v]=n,this[w]=t.stale||!1,this[x]=t.maxAge||0,this[b]=t.dispose,this[C]=t.noDisposeOnSet||!1,this.reset()}function o(t,e,n,r){var i=n.value;u(t,i)&&(c(t,n),t[w]||(i=void 0)),i&&e.call(r,i.value,i.key,t)}function s(t,e,n){var r=t[E].get(e);if(r){var i=r.value;u(t,i)?(c(t,r),t[w]||(i=void 0)):n&&t[_].unshiftNode(r),i&&(i=i.value)}return i}function u(t,e){if(!e||!e.maxAge&&!t[x])return!1;var n=!1,r=Date.now()-e.now;return n=e.maxAge?r>e.maxAge:t[x]&&r>t[x]}function a(t){if(t[y]>t[g])for(var e=t[_].tail;t[y]>t[g]&&null!==e;){var n=e.prev;c(t,e),e=n}}function c(t,e){if(e){var n=e.value;t[b]&&t[b](n.key,n.value),t[y]-=n.length,t[E].delete(n.key),t[_].removeNode(e)}}function f(t,e,n,r,i){this.key=t,this.value=e,this.length=n,this.now=r,this.maxAge=i||0}t.exports=i;var h,l=n(23),p=n(5),d=n(25),m="function"==typeof Symbol;h=m?function(t){return Symbol.for(t)}:function(t){return"_"+t};var g=h("max"),y=h("length"),v=h("lengthCalculator"),w=h("allowStale"),x=h("maxAge"),b=h("dispose"),C=h("noDisposeOnSet"),_=h("lruList"),E=h("cache");Object.defineProperty(i.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this[g]=t,a(this)},get:function(){return this[g]},enumerable:!0}),Object.defineProperty(i.prototype,"allowStale",{set:function(t){this[w]=!!t},get:function(){return this[w]},enumerable:!0}),Object.defineProperty(i.prototype,"maxAge",{set:function(t){(!t||"number"!=typeof t||t<0)&&(t=0),this[x]=t,a(this)},get:function(){return this[x]},enumerable:!0}),Object.defineProperty(i.prototype,"lengthCalculator",{set:function(t){"function"!=typeof t&&(t=r),t!==this[v]&&(this[v]=t,this[y]=0,this[_].forEach(function(t){t.length=this[v](t.value,t.key),this[y]+=t.length},this)),a(this)},get:function(){return this[v]},enumerable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this[y]},enumerable:!0}),Object.defineProperty(i.prototype,"itemCount",{get:function(){return this[_].length},enumerable:!0}),i.prototype.rforEach=function(t,e){e=e||this;for(var n=this[_].tail;null!==n;){var r=n.prev;o(this,t,n,e),n=r}},i.prototype.forEach=function(t,e){e=e||this;for(var n=this[_].head;null!==n;){var r=n.next;o(this,t,n,e),n=r}},i.prototype.keys=function(){return this[_].toArray().map(function(t){return t.key},this)},i.prototype.values=function(){return this[_].toArray().map(function(t){return t.value},this)},i.prototype.reset=function(){this[b]&&this[_]&&this[_].length&&this[_].forEach(function(t){this[b](t.key,t.value)},this),this[E]=new l,this[_]=new d,this[y]=0},i.prototype.dump=function(){
return this[_].map(function(t){if(!u(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})},i.prototype.dumpLru=function(){return this[_]},i.prototype.inspect=function(t,e){var n="LRUCache {",i=!1,o=this[w];o&&(n+="\n  allowStale: true",i=!0);var s=this[g];s&&s!==1/0&&(i&&(n+=","),n+="\n  max: "+p.inspect(s,e),i=!0);var a=this[x];a&&(i&&(n+=","),n+="\n  maxAge: "+p.inspect(a,e),i=!0);var c=this[v];c&&c!==r&&(i&&(n+=","),n+="\n  length: "+p.inspect(this[y],e),i=!0);var f=!1;return this[_].forEach(function(t){f?n+=",\n  ":(i&&(n+=",\n"),f=!0,n+="\n  ");var o=p.inspect(t.key).split("\n").join("\n  "),s={value:t.value};t.maxAge!==a&&(s.maxAge=t.maxAge),c!==r&&(s.length=t.length),u(this,t)&&(s.stale=!0),s=p.inspect(s,e).split("\n").join("\n  "),n+=o+" => "+s}),(f||i)&&(n+="\n"),n+="}"},i.prototype.set=function(t,e,n){n=n||this[x];var r=n?Date.now():0,i=this[v](e,t);if(this[E].has(t)){if(i>this[g])return c(this,this[E].get(t)),!1;var o=this[E].get(t),s=o.value;return this[b]&&(this[C]||this[b](t,s.value)),s.now=r,s.maxAge=n,s.value=e,this[y]+=i-s.length,s.length=i,this.get(t),a(this),!0}var u=new f(t,e,i,r,n);return u.length>this[g]?(this[b]&&this[b](t,e),!1):(this[y]+=u.length,this[_].unshift(u),this[E].set(t,this[_].head),a(this),!0)},i.prototype.has=function(t){if(!this[E].has(t))return!1;var e=this[E].get(t).value;return!u(this,e)},i.prototype.get=function(t){return s(this,t,!0)},i.prototype.peek=function(t){return s(this,t,!1)},i.prototype.pop=function(){var t=this[_].tail;return t?(c(this,t),t.value):null},i.prototype.del=function(t){c(this,this[E].get(t))},i.prototype.load=function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var r=t[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-e;o>0&&this.set(r.k,r.v,o)}}},i.prototype.prune=function(){var t=this;this[E].forEach(function(e,n){s(t,n,!1)})}},function(t,e,n){"use strict";"pseudomap"==={NODE_ENV:"production"}.npm_package_name&&"test"==={NODE_ENV:"production"}.npm_lifecycle_script&&({NODE_ENV:"production"}.TEST_PSEUDOMAP="true"),"function"!=typeof Map||{NODE_ENV:"production"}.TEST_PSEUDOMAP?t.exports=n(24):t.exports=Map},function(t,e){"use strict";function n(t){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof n||"function"==typeof Map&&t instanceof Map)t.forEach(function(t,e){this.set(e,t)},this);else{if(!Array.isArray(t))throw new TypeError("invalid argument");t.forEach(function(t){this.set(t[0],t[1])},this)}}function r(t,e){return t===e||t!==t&&e!==e}function i(t,e,n){this.key=t,this.value=e,this._index=n}function o(t,e){for(var n=0,i="_"+e,o=i;u.call(t,o);o=i+n++)if(r(t[o].key,e))return t[o]}function s(t,e,n){for(var o=0,s="_"+e,a=s;u.call(t,a);a=s+o++)if(r(t[a].key,e))return void(t[a].value=n);t.size++,t[a]=new i(e,n,a)}var u=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(n){"size"!==n&&t.call(e,this._data[n].value,this._data[n].key)},this)},n.prototype.has=function(t){return!!o(this._data,t)},n.prototype.get=function(t){var e=o(this._data,t);return e&&e.value},n.prototype.set=function(t,e){s(this._data,t,e)},n.prototype.delete=function(t){var e=o(this._data,t);e&&(delete this._data[e._index],this._data.size--)},n.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(t,e){"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function r(t,e){t.tail=new o(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function i(t,e){t.head=new o(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function o(t,e,n,r){return this instanceof o?(this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,void(n?(n.prev=this,this.next=n):this.next=null)):new o(t,e,n,r)}t.exports=n,n.Node=o,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)r(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},n.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},n.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},n.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},n.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this}},function(t,e,n){"use strict";function r(t,e){var n;if(e=!!e,n=u.get(t+"!"+e),u.has(t))return u.get(t);try{n=e?o.sync(t,{pathExt:i.delimiter+({NODE_ENV:"production"}.PATHEXT||"")}):o.sync(t)}catch(t){}return u.set(t+"!"+e,n),n}var i=n(27),o=n(28),s=n(22),u=new s({max:50,maxAge:3e4});t.exports=r},function(t,e){t.exports=require("path")},function(t,e,n){"use strict";function r(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function i(t,e){var n=e.colon||c,r=e.path||{NODE_ENV:"production"}.PATH||"",i=[""];r=r.split(n);var o="";return u&&(r.unshift(process.cwd()),o=e.pathExt||{NODE_ENV:"production"}.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(n),t.indexOf(".")!==-1&&""!==i[0]&&i.unshift("")),(t.match(/\//)||u&&t.match(/\\/))&&(r=[""]),{env:r,ext:i,extExe:o}}function o(t,e,n){"function"==typeof e&&(n=e,e={});var o=i(t,e),s=o.env,u=o.ext,c=o.extExe,h=[];!function i(o,l){if(o===l)return e.all&&h.length?n(null,h):n(r(t));var p=s[o];'"'===p.charAt(0)&&'"'===p.slice(-1)&&(p=p.slice(1,-1));var d=a.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(d=t.slice(0,2)+d),function t(r,s){if(r===s)return i(o+1,l);var a=u[r];f(d+a,{pathExt:c},function(i,o){if(!i&&o){if(!e.all)return n(null,d+a);h.push(d+a)}return t(r+1,s)})}(0,u.length)}(0,s.length)}function s(t,e){e=e||{};for(var n=i(t,e),o=n.env,s=n.ext,u=n.extExe,c=[],h=0,l=o.length;h<l;h++){var p=o[h];'"'===p.charAt(0)&&'"'===p.slice(-1)&&(p=p.slice(1,-1));var d=a.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(d=t.slice(0,2)+d);for(var m=0,g=s.length;m<g;m++){var y,v=d+s[m];try{if(y=f.sync(v,{pathExt:u})){if(!e.all)return v;c.push(v)}}catch(t){}}}if(e.all&&c.length)return c;if(e.nothrow)return null;throw r(t)}t.exports=o,o.sync=s;var u="win32"===process.platform||"cygwin"==={NODE_ENV:"production"}.OSTYPE||"msys"==={NODE_ENV:"production"}.OSTYPE,a=n(27),c=u?";":":",f=n(29)},function(t,e,n){"use strict";function r(t,e,n){if("function"==typeof e&&(n=e,e={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(n,i){r(t,e||{},function(t,e){t?i(t):n(e)})})}o(t,e||{},function(t,r){t&&("EACCES"===t.code||e&&e.ignoreErrors)&&(t=null,r=!1),n(t,r)})}function i(t,e){try{return o.sync(t,e||{})}catch(t){if(e&&e.ignoreErrors||"EACCES"===t.code)return!1;throw t}}var o;n(14),o=n("win32"===process.platform||global.TESTING_WINDOWS?30:31),t.exports=r,r.sync=i},function(t,e,n){"use strict";function r(t,e){var n=void 0!==e.pathExt?e.pathExt:{NODE_ENV:"production"}.PATHEXT;if(!n)return!0;if(n=n.split(";"),n.indexOf("")!==-1)return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function i(t,e,n){return!(!t.isSymbolicLink()&&!t.isFile())&&r(e,n)}function o(t,e,n){u.stat(t,function(r,o){n(r,!r&&i(o,t,e))})}function s(t,e){return i(u.statSync(t),t,e)}t.exports=o,o.sync=s;var u=n(14)},function(t,e,n){"use strict";function r(t,e,n){u.stat(t,function(t,r){n(t,!t&&o(r,e))})}function i(t,e){return o(u.statSync(t),e)}function o(t,e){return t.isFile()&&s(t,e)}function s(t,e){var n=t.mode,r=t.uid,i=t.gid,o=void 0!==e.uid?e.uid:process.getuid&&process.getuid(),s=void 0!==e.gid?e.gid:process.getgid&&process.getgid(),u=parseInt("100",8),a=parseInt("010",8),c=parseInt("001",8),f=u|a,h=n&c||n&a&&i===s||n&u&&r===o||n&f&&0===o;return h}t.exports=r,r.sync=i;var u=n(14)},function(t,e){"use strict";t.exports=function(){if("win32"!==process.platform)return!1;var t=process.version.substr(1).split(".").map(function(t){return parseInt(t,10)});return 0===t[0]&&t[1]<12}()},function(t,e,n){"use strict";function r(t,e){var n;return n=new Error(e+" "+t+" ENOENT"),n.code=n.errno="ENOENT",n.syscall=e+" "+t,n}function i(t,e){var n;u&&(n=t.emit,t.emit=function(r,i){var s;return"exit"===r&&(s=o(i,e,"spawn"))?n.call(t,"error",s):n.apply(t,arguments)})}function o(t,e){return u&&1===t&&!e.file?r(e.original,"spawn"):null}function s(t,e){return u&&1===t&&!e.file?r(e.original,"spawnSync"):c&&t===-1&&(e.file=u?e.file:a(e.original),!e.file)?r(e.original,"spawnSync"):null}var u="win32"===process.platform,a=n(26),c=0===process.version.indexOf("v0.10.");t.exports.hookChildProcess=i,t.exports.verifyENOENT=o,t.exports.verifyENOENTSync=s,t.exports.notFoundError=r},function(t,e,n){"use strict";"undefined"==typeof process||"renderer"===process.type?t.exports=n(35):t.exports=n(38)},function(t,e,n){"use strict";function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)}}function o(){return"object"===("undefined"==typeof console?"undefined":c(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function u(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t={NODE_ENV:"production"}.DEBUG),t}function a(){try{return window.localStorage}catch(t){}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e=t.exports=n(36),e.log=o,e.formatArgs=i,e.save=s,e.load=u,e.useColors=r,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(u())},function(t,e,n){"use strict";function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function i(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(i||r);t.diff=o,t.prev=i,t.curr=r,i=r;for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var a=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var i=e.formatters[r];if("function"==typeof i){var o=s[a];n=i.call(t,o),s.splice(a,1),a--}return n}),e.formatArgs.call(t,s);var c=n.log||e.log||console.log.bind(console);c.apply(t,s)}}var i;return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return t!==-1&&(e.instances.splice(t,1),!0)}function s(t){e.save(t),e.names=[],e.skips=[];var n,r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}}function u(){e.enable("")}function a(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i.debug=i.default=i,e.coerce=c,e.disable=u,e.enable=s,e.enabled=a,e.humanize=n(37),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){"use strict";function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*f;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=f?Math.round(t/f)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=u?Math.round(t/u)+"s":t+"ms"}function i(t){return o(t,f,"day")||o(t,c,"hour")||o(t,a,"minute")||o(t,u,"second")||t+" ms"}function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=1e3,a=60*u,c=60*a,f=24*c,h=365.25*f;t.exports=function(t,e){e=e||{};var o="undefined"==typeof t?"undefined":s(t);if("string"===o&&t.length>0)return n(t);if("number"===o&&isNaN(t)===!1)return e.long?i(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";function r(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):f.isatty(process.stderr.fd)}function i(t){var n=this.namespace,r=this.useColors;if(r){var i=this.color,s="[3"+(i<8?i:"8;5;"+i),u="  "+s+";1m"+n+" [0m";t[0]=u+t[0].split("\n").join("\n"+u),t.push(s+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=o()+n+" "+t[0]}function o(){return e.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function s(){return process.stderr.write(h.format.apply(h,arguments)+"\n")}function u(t){null==t?delete{NODE_ENV:"production"}.DEBUG:{NODE_ENV:"production"}.DEBUG=t}function a(){return{NODE_ENV:"production"}.DEBUG}function c(t){t.inspectOpts={};for(var n=Object.keys(e.inspectOpts),r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]}var f=n(39),h=n(5);e=t.exports=n(36),e.init=c,e.log=s,e.formatArgs=i,e.save=u,e.load=a,e.useColors=r,e.colors=[6,2,3,4,5,1];try{var l=n(40);l&&l.level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys({NODE_ENV:"production"}).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var n=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),r={NODE_ENV:"production"}[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{}),e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,h.inspect(t,this.inspectOpts).split("\n").map(function(t){return t.trim()}).join(" ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,h.inspect(t,this.inspectOpts)},e.enable(a())},function(t,e){t.exports=require("tty")},function(t,e,n){"use strict";var r=process.argv,i=r.indexOf("--"),o=function(t){t="--"+t;var e=r.indexOf(t);return e!==-1&&(i===-1||e<i)};t.exports=function(){return"FORCE_COLOR"in{NODE_ENV:"production"}||!(o("no-color")||o("no-colors")||o("color=false"))&&(!!(o("color")||o("colors")||o("color=true")||o("color=always"))||!(process.stdout&&!process.stdout.isTTY)&&("win32"===process.platform||"COLORTERM"in{NODE_ENV:"production"}||"dumb"!=={NODE_ENV:"production"}.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test({NODE_ENV:"production"}.TERM)))}()},function(t,e){"use strict";function n(){}t.exports=function(t,e,r){function i(t){t?r(t):o()}if(r||("function"==typeof e?(r=e,e=null):r=n),!t||!t.length)return r();t=t.slice(0);var o=e?function(){t.length?t.shift().call(e,i):r()}:function(){t.length?t.shift()(i):r()};o()}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(19);t.exports=e=function(t){function e(t,e,n,o){var s=this._options&&this._options.imageMagick,u=this._options&&this._options.appPath||"",a=s?u+"compare":u+"gm",c=["-metric","mse",t,e];s||c.unshift("compare");var f=.4;if("object"===("undefined"==typeof n?"undefined":r(n))){if(n.highlightColor&&n.highlightColor.indexOf('"')<0&&(n.highlightColor='"'+n.highlightColor+'"'),n.file){if("string"!=typeof n.file)throw new TypeError("The path for the diff output is invalid");n.highlightColor&&(c.push("-highlight-color"),c.push(n.highlightColor)),n.highlightStyle&&(c.push("-highlight-style"),c.push(n.highlightStyle)),s||c.push("-file"),c.push(n.file)}if("undefined"!=typeof n.tolerance){if("number"!=typeof n.tolerance)throw new TypeError("The tolerance value should be a number");f=n.tolerance}}else s&&c.push("null:"),"function"==typeof n?o=n:f=n;var h=i(a,c),l="",p="";h.stdout.on("data",function(t){l+=t}),h.stderr.on("data",function(t){p+=t}),h.on("close",function(n){if(s){if(0===n)return o(null,0<=f,0,l);if(1!==n)return o(p);err=null,l=p}else if(0!==n)return o(p);var r=s?/\((\d+\.?[\d\-\+e]*)\)/m:/Total: (\d+\.?\d*)/m,i=r.exec(l);if(!i)return err=new Error("Unable to parse output.\nGot "+l),o(err);var u=parseFloat(i[1]);o(null,u<=f,u,l,t,e)})}return t&&(t.compare=e),e}},function(t,e){"use strict";t.exports=e=function(t){t.composite=function(t,e){return this.in(t),"undefined"!=typeof e&&this.out(e),this.subCommand("composite"),this}}},function(t,e){"use strict";t.exports=e=function(t){t.montage=function(t){return this.in(t),this.subCommand("montage"),this}}},function(t,e){t.exports={_from:"gm",_id:"gm@1.23.1",_inBundle:!1,_integrity:"sha1-Lt7rlYCE0PjqeYjl2ZWxx9/BR3c=",_location:"/gm",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"gm",name:"gm",escapedName:"gm",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/gm/-/gm-1.23.1.tgz",_shasum:"2edeeb958084d0f8ea7988e5d995b1c7dfc14777",_spec:"gm",_where:"/Users/pykih/workspace/JS/lambda-functions/proto_upload_image",author:{name:"Aaron Heckmann",email:"aaron.heckmann+github@gmail.com"},bugs:{url:"http://github.com/aheckmann/gm/issues"},bundleDependencies:!1,dependencies:{"array-parallel":"~0.1.3","array-series":"~0.1.5","cross-spawn":"^4.0.0",debug:"^3.1.0"},deprecated:!1,description:"GraphicsMagick and ImageMagick for node.js",devDependencies:{async:"~0.9.0",nsp:"^3"},engines:{node:">= 0.10.0"},homepage:"https://github.com/aheckmann/gm#readme",keywords:["graphics","magick","image","graphicsmagick","imagemagick","gm","convert","identify","compare"],license:"MIT",licenses:[{type:"MIT",url:"http://www.opensource.org/licenses/mit-license.php"}],main:"./index",name:"gm",repository:{type:"git",url:"git+https://github.com/aheckmann/gm.git"},scripts:{test:"make test;"},version:"1.23.1"}}]));